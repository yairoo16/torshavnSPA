<ion-header>
    <ion-toolbar>
        <ion-title>Torshavn</ion-title>
        <ion-buttons slot="start">
            <ion-menu-button autoHide="false"></ion-menu-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content padding>
    <agm-map [latitude]="startLat" 
        [longitude]="startLng" [zoom]="zoom" (mapReady)="mapReady($event)" (idle)="centerChanged()">

        <button id="Settings" type="button" (click)="resetCurrentLocation()">
            <ion-icon name="locate"></ion-icon>
        </button>
            
        <agm-marker *ngFor="let p of pointsOfInterest; let i = index" [animation]="p.animation" [latitude]="p.lat"
            [longitude]="p.lng" [iconUrl]="p.iconPath" (markerClick)="clickedMarker(p)"></agm-marker>

        <agm-marker 
            [latitude]="currentLat" 
            [longitude]="currentLng"
            [iconUrl]="currentLocationMarker"></agm-marker>

        <agm-direction
            *ngFor="let direction of directions" 
            [origin]="direction.origin" [destination]="direction.destination"></agm-direction>
    </agm-map>
    <ion-grid *ngIf="selectedPointOfInterest !== undefined">
        <ion-row >
            <ion-col size-sm="6" offset-sm="3" no-padding>
                <ion-img [src]="s3BaseImageUrl + selectedPointOfInterest.imagePath"></ion-img>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3" text-center padding>
                <p>{{selectedPointOfInterest.description}}</p>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>